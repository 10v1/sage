// For format details, see https://aka.ms/devcontainer.json.
{
    "name": "sagemath/sagemath Docker",
    // sagemath/sagemath-dev as of 9.5 is broken?
    "image": "sagemath/sagemath:develop"
    "containerEnv": {
        "MAKE": "make -j12"
    },
    // Run commands after the container is created:
    // Install build tools
    "postCreateCommand": ".devcontainer/post_create.sh --sudo"
    // Run commands after the container is started.
    // Do not run configure within a sage-env (see #29485).
    "postStartCommand": "./bootstrap && (export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin && unset CFLAGS LDFLAGS CXXFLAGS CPATH LIBRARY_PATH && ./configure --prefix=/home/sage/sage/local --with-sage-venv) && make build V=0",
    "extensions": [
        "ms-python.python"
    ]
}
